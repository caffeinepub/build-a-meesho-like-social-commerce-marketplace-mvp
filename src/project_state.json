{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 15,
  "summary": "Plan to build a Meesho-like e-commerce marketplace website.",
  "architectural_notes": [
    "Admin access is controlled per-user (Internet Identity principal) and gates visibility/access to Product Management (/admin).",
    "Add a user-facing Profile/Account area that can display the current authenticated Internet Identity principal and admin status for support/debugging (since admin access is principal-based and the UI currently doesn’t surface it).",
    "Checkout should capture and persist a shipping address (name, mobile, pincode, address lines, landmark, city, state) for order placement and display it in the order summary.",
    "Real payment gateway integrations (e.g., Razorpay/Paytm/PhonePe/Stripe/UPI) are not supported on the current platform; checkout payments must remain demo-only (e.g., COD/UPI demo) with a more realistic UI as needed.",
    "Introduce order status states to support seller decisioning (e.g., Pending Seller Confirmation -> Accepted/Declined) and expose this in a seller-facing UI."
  ],
  "known_issues": [
    "Attempt to set the user's account as admin failed due to a build/deploy error ('AI was unable to complete your request').",
    "After publishing, user cannot see admin panel or previously added products; attempting admin bootstrap returns 'An admin already exists. Please contact the existing administrator for access' and the UI does not expose Principal ID or a profile page to diagnose identity/admin mapping.",
    "Build failed when attempting to implement the expanded checkout flow (address capture + order summary + payment step + INR pricing)."
  ],
  "isFixRequest": false,
  "existing_features": [
    {
      "id": "feature-create-a-responsive-marketplace-storefront-with-key-shopping-flows-inspired-by-meesho-browse-categories-view-product-grid-open-product-details-add-remove-items-in-cart-and-place-an-order-no-external-payment-integration",
      "title": "Create a responsive marketplace storefront with key shopping flows inspired by Meesho: browse categories, view product grid, open product details, add/remove items in cart, and place an order (no external payment integration).",
      "reqIds": [
        "REQ-1"
      ],
      "version": 1
    },
    {
      "id": "feature-add-internet-identity-sign-in-and-show-authenticated-user-state-signed-in-out-across-the-app-require-sign-in-before-placing-an-order",
      "title": "Add Internet Identity sign-in and show authenticated user state (signed in/out) across the app; require sign-in before placing an order.",
      "reqIds": [
        "REQ-2"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-simple-seller-admin-product-management-ui-for-adding-and-editing-products-title-description-price-category-image-url-to-enable-marketplace-content-without-external-services",
      "title": "Add a simple seller/admin product management UI for adding and editing products (title, description, price, category, image URL) to enable marketplace content without external services.",
      "reqIds": [
        "REQ-4"
      ],
      "version": 1
    },
    {
      "id": "feature-apply-a-coherent-visual-theme-for-a-meesho-like-budget-fashion-marketplace-warm-bright-palette-avoid-blue-purple-bold-headings-high-contrast-ctas-and-mobile-first-layout-with-a-sticky-bottom-cart-shortcut-on-small-screens",
      "title": "Apply a coherent visual theme for a Meesho-like budget fashion marketplace: warm, bright palette (avoid blue/purple), bold headings, high-contrast CTAs, and mobile-first layout with a sticky bottom cart shortcut on small screens.",
      "reqIds": [
        "REQ-6"
      ],
      "version": 1
    },
    {
      "id": "feature-add-generated-static-brand-assets-and-use-them-in-the-ui-logo-and-a-homepage-hero-illustration-from-frontend-public-assets-generated-no-backend-image-serving",
      "title": "Add generated static brand assets and use them in the UI (logo and a homepage hero illustration) from frontend/public/assets/generated (no backend image serving).",
      "reqIds": [
        "REQ-7"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-clear-user-facing-explanation-of-how-to-add-products-including-where-to-find-the-product-management-screen-and-what-information-is-required-title-description-price-category-image-url",
      "title": "Add a clear, user-facing explanation of how to add products, including where to find the Product Management screen and what information is required (title, description, price, category, image URL).",
      "reqIds": [
        "REQ-8"
      ],
      "version": 1
    },
    {
      "id": "feature-make-the-product-management-area-easy-to-find-on-all-screen-sizes-by-exposing-an-admin-product-management-navigation-entry-in-the-authenticated-account-menu-only-show-this-entry-when-the-current-user-is-an-admin",
      "title": "Make the Product Management area easy to find on all screen sizes by exposing an Admin/Product Management navigation entry in the authenticated account menu; only show this entry when the current user is an admin.",
      "reqIds": [
        "REQ-9"
      ],
      "version": 1
    },
    {
      "id": "feature-handle-non-admin-access-to-the-admin-page-with-a-friendly-english-message-explaining-that-adding-editing-products-is-restricted-to-admins-and-that-the-user-must-have-admin-permissions-to-use-product-management",
      "title": "Handle non-admin access to the /admin page with a friendly, English message explaining that adding/editing products is restricted to admins and that the user must have admin permissions to use Product Management.",
      "reqIds": [
        "REQ-10"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-frontend-ui-path-for-a-signed-in-non-admin-user-to-trigger-the-admin-bootstrap-action-and-receive-clear-feedback-this-must-be-accessible-from-the-existing-non-admin-experience-e-g-on-the-admin-access-restricted-page-and-or-account-menu-and-must-display-all-user-facing-text-in-english",
      "title": "Add a frontend UI path for a signed-in non-admin user to trigger the admin bootstrap action and receive clear feedback. This must be accessible from the existing non-admin experience (e.g., on the /admin access-restricted page and/or account menu) and must display all user-facing text in English.",
      "reqIds": [
        "REQ-12"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-the-frontend-refreshes-cached-auth-role-state-immediately-after-the-admin-bootstrap-action-completes-so-admin-gated-ui-updates-correctly-e-g-invalidate-refetch-the-current-user-role-query-and-any-other-dependent-queries",
      "title": "Ensure the frontend refreshes cached auth/role state immediately after the admin bootstrap action completes so admin-gated UI updates correctly (e.g., invalidate/refetch the current user role query and any other dependent queries).",
      "reqIds": [
        "REQ-13"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-new-authenticated-profile-account-page-route-that-is-accessible-in-the-app-ui-and-displays-the-signed-in-user-s-details",
      "title": "Add a new authenticated Profile/Account page route that is accessible in the app UI and displays the signed-in user’s details.",
      "reqIds": [
        "REQ-14"
      ],
      "version": 1
    },
    {
      "id": "feature-on-the-profile-account-page-display-the-user-s-identity-and-account-details-needed-for-troubleshooting-admin-access-including-internet-identity-principal-id-current-profile-name-and-admin-status",
      "title": "On the Profile/Account page, display the user’s identity and account details needed for troubleshooting admin access, including Internet Identity Principal ID, current profile name, and admin status.",
      "reqIds": [
        "REQ-15"
      ],
      "version": 1
    },
    {
      "id": "feature-allow-the-signed-in-user-to-update-their-profile-name-from-the-profile-account-page-using-the-existing-savecalleruserprofile-flow",
      "title": "Allow the signed-in user to update their profile name from the Profile/Account page using the existing saveCallerUserProfile flow.",
      "reqIds": [
        "REQ-16"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-authenticated-account-dropdown-menu-to-include-navigation-to-the-new-profile-account-page-without-breaking-existing-admin-product-management-and-sign-out-actions",
      "title": "Update the authenticated account dropdown/menu to include navigation to the new Profile/Account page without breaking existing Admin/Product Management and Sign Out actions.",
      "reqIds": [
        "REQ-17"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-simplified-3-step-checkout-flow-starting-from-the-cart-page-step-1-collects-a-delivery-address-full-name-mobile-number-pincode-address-line-1-address-line-2-optional-landmark-optional-city-state-and-requires-the-user-to-click-save-address-before-continuing",
      "title": "Add a simplified 3-step checkout flow starting from the Cart page: Step 1 collects a delivery address (full name, mobile number, pincode, address line 1, address line 2 (optional), landmark (optional), city, state) and requires the user to click “Save address” before continuing.",
      "reqIds": [
        "REQ-18"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-an-order-review-step-step-2-that-shows-the-saved-delivery-address-and-the-current-cart-items-with-quantities-and-line-totals-plus-an-order-total-before-the-user-proceeds-to-payment",
      "title": "Implement an order review step (Step 2) that shows the saved delivery address and the current cart items with quantities and line totals, plus an order total, before the user proceeds to payment.",
      "reqIds": [
        "REQ-19"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-a-simple-payment-step-step-3-with-at-least-one-selectable-payment-option-e-g-cash-on-delivery-and-or-upi-demo-and-a-final-pay-place-order-action-that-completes-the-order-without-integrating-any-real-payment-gateway",
      "title": "Implement a simple payment step (Step 3) with at least one selectable payment option (e.g., “Cash on Delivery” and/or “UPI (demo)”) and a final “Pay & Place Order” action that completes the order without integrating any real payment gateway.",
      "reqIds": [
        "REQ-20"
      ],
      "version": 1
    },
    {
      "id": "feature-display-all-product-cart-and-order-totals-in-inr-indian-rupees-across-the-storefront-product-cards-product-details-page-cart-page-checkout-flow-and-orders-list-remove-formatting-in-these-places",
      "title": "Display all product, cart, and order totals in INR (Indian Rupees) across the storefront product cards, product details page, cart page, checkout flow, and orders list; remove “$” formatting in these places.",
      "reqIds": [
        "REQ-22"
      ],
      "version": 1
    },
    {
      "id": "feature-add-routing-and-navigation-needed-for-the-simplified-checkout-flow-new-checkout-route-s-keeping-the-existing-cart-and-order-confirmation-routes-working",
      "title": "Add routing and navigation needed for the simplified checkout flow (new checkout route(s)), keeping the existing cart and order confirmation routes working.",
      "reqIds": [
        "REQ-23"
      ],
      "version": 1
    },
    {
      "id": "feature-upgrade-the-step-3-payment-ui-on-the-existing-checkout-page-to-look-more-realistic-while-remaining-strictly-a-demo-no-real-payment-gateway-keep-the-existing-3-step-checkout-flow-and-the-existing-checkout-mutation-that-places-the-order",
      "title": "Upgrade the Step 3 (Payment) UI on the existing Checkout page to look more realistic while remaining strictly a demo (no real payment gateway). Keep the existing 3-step checkout flow and the existing checkout mutation that places the order.",
      "reqIds": [
        "REQ-24"
      ],
      "version": 1
    },
    {
      "id": "feature-add-realistic-demo-payment-method-flows-in-checkout-step-3-keep-cash-on-delivery-and-enhance-digital-payments-by-showing-method-specific-input-panels-e-g-upi-id-for-upi-cardholder-name-card-number-expiry-cvv-for-card-with-basic-client-side-validation-and-helpful-inline-error-messages",
      "title": "Add realistic demo payment method flows in Checkout Step 3: keep Cash on Delivery, and enhance digital payments by showing method-specific input panels (e.g., UPI ID for UPI, cardholder name/card number/expiry/CVV for card) with basic client-side validation and helpful inline error messages.",
      "reqIds": [
        "REQ-25"
      ],
      "version": 1
    },
    {
      "id": "feature-simulate-a-realistic-payment-processing-experience-during-demo-payment-when-the-user-clicks-the-final-pay-action-show-a-processing-state-e-g-modal-or-inline-status-for-a-short-duration-before-placing-the-order-and-prevent-duplicate-submissions-while-processing",
      "title": "Simulate a realistic payment processing experience during demo payment: when the user clicks the final pay action, show a processing state (e.g., modal or inline status) for a short duration before placing the order, and prevent duplicate submissions while processing.",
      "reqIds": [
        "REQ-26"
      ],
      "version": 1
    },
    {
      "id": "feature-generate-and-display-a-demo-payment-reference-transaction-id-for-non-cod-demo-methods-and-show-it-on-the-order-confirmation-page-after-a-successful-order-placement-frontend-only-persistence-is-acceptable",
      "title": "Generate and display a demo payment reference/transaction ID for non-COD demo methods and show it on the Order Confirmation page after a successful order placement (frontend-only persistence is acceptable).",
      "reqIds": [
        "REQ-27"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-clear-non-intrusive-disclaimer-in-checkout-step-3-that-the-payment-experience-is-a-demo-and-no-real-money-is-being-processed-without-reducing-the-realistic-look-and-feel",
      "title": "Add a clear, non-intrusive disclaimer in Checkout Step 3 that the payment experience is a demo and no real money is being processed, without reducing the realistic look and feel.",
      "reqIds": [
        "REQ-28"
      ],
      "version": 1
    },
    {
      "id": "feature-add-react-query-hooks-for-seller-admin-order-management-that-integrate-with-the-new-backend-apis-frontend-changes-must-add-a-query-hook-to-fetch-all-orders-for-the-current-authenticated-admin-add-mutation-hook-s-to-accept-an-order-and-to-decline-an-order-or-a-single-mutation-that-updates-status-ensure-relevant-caches-are-refreshed-after-mutations-e-g-invalidate-refetch-both-the-admin-orders-list-and-the-buyer-orders-query-key-orders-when-applicable",
      "title": "Add React Query hooks for seller/admin order management that integrate with the new backend APIs.\n\nFrontend changes must:\n- Add a query hook to fetch all orders for the current authenticated admin.\n- Add mutation hook(s) to accept an order and to decline an order (or a single mutation that updates status).\n- Ensure relevant caches are refreshed after mutations (e.g., invalidate/refetch both the admin orders list and the buyer orders query key `['orders']` when applicable).",
      "reqIds": [
        "REQ-30"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-seller-admin-order-review-ui-that-allows-accepting-or-declining-newly-placed-orders-frontend-changes-must-add-an-order-management-section-within-the-existing-admin-experience-adminsellerpage-that-is-visible-only-to-admins-display-a-list-of-orders-with-key-details-order-id-buyer-principal-or-a-safe-identifier-item-count-total-inr-formatting-delivery-address-summary-if-present-current-status-for-orders-in-pending-status-show-accept-and-decline-actions-after-an-action-completes-show-clear-english-success-error-feedback-and-disable-prevent-duplicate-submissions-while-the-mutation-is-pending",
      "title": "Add a seller/admin order review UI that allows accepting or declining newly placed orders.\n\nFrontend changes must:\n- Add an “Order Management” section within the existing `/admin` experience (AdminSellerPage) that is visible only to admins.\n- Display a list of orders with key details: order ID, buyer principal (or a safe identifier), item count, total (INR formatting), delivery address summary if present, current status.\n- For orders in `pending` status, show “Accept” and “Decline” actions.\n- After an action completes, show clear English success/error feedback and disable/prevent duplicate submissions while the mutation is pending.",
      "reqIds": [
        "REQ-31"
      ],
      "version": 1
    },
    {
      "id": "feature-update-buyer-facing-order-status-display-to-handle-the-new-accepted-declined-statuses-consistently-frontend-changes-must-update-orders-orderspage-status-badge-styling-variants-to-include-the-new-statuses-ensure-the-status-label-shown-to-the-user-is-clear-and-consistent-e-g-accepted-declined",
      "title": "Update buyer-facing order status display to handle the new accepted/declined statuses consistently.\n\nFrontend changes must:\n- Update `/orders` (OrdersPage) status badge styling/variants to include the new statuses.\n- Ensure the status label shown to the user is clear and consistent (e.g., “accepted”, “declined”).",
      "reqIds": [
        "REQ-32"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "Create a Meesho-like e-commerce marketplace website.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-4",
      "summary": "Implement backend marketplace data model and APIs in the single Motoko actor: products, categories, carts, and orders, including stable persistence for deployed canister upgrades.",
      "reqIds": [
        "REQ-3"
      ],
      "status": "pending"
    },
    {
      "id": "AR-6",
      "summary": "Seed the app with initial sample categories and products on first deployment, so the storefront is usable without manual setup.",
      "reqIds": [
        "REQ-5"
      ],
      "status": "pending"
    },
    {
      "id": "AR-7",
      "summary": "Provide a way to mark a specific Internet Identity user as an admin so they can access Product Management and add products.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-8",
      "summary": "Add a backend method that lets the currently authenticated caller become an admin when (and only when) no admin has been set up yet (admin bootstrap). The method must grant the caller admin privileges in the existing access control system and return a clear success/failure result (or trap with a clear English error message).",
      "reqIds": [
        "REQ-11"
      ],
      "status": "pending"
    },
    {
      "id": "AR-9",
      "summary": "Add a Profile/Account section in the app that displays the signed-in user’s identity details (e.g., Internet Identity Principal ID and related auth/admin status) so users can confirm which identity is logged in and troubleshoot admin access.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-10",
      "summary": "Add a simplified checkout flow that collects a full delivery address after cart (name, mobile, pincode, address line 1/2, landmark, city, state) and allows saving it before placing an order.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-11",
      "summary": "Add an order summary/preview step that displays the saved delivery address and the cart items with prices before confirming the order.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-12",
      "summary": "Add a simple payment step/option at checkout (no real payment gateway) to complete the order after the order summary.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-13",
      "summary": "Display product and order prices in INR (Indian Rupees) across storefront, cart, and checkout.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-17",
      "summary": "Extend the backend order model and checkout API to persist the delivery address with each order created from the new checkout flow.",
      "reqIds": [
        "REQ-21"
      ],
      "status": "pending"
    },
    {
      "id": "AR-18",
      "summary": "Make the demo payment step UI more realistic (e.g., more payment choices and a more lifelike payment screen) while still not integrating any real payment gateway.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-19",
      "summary": "Add a seller/admin order management workflow so sellers can review newly placed orders and accept or decline them (update order status accordingly and reflect it in the buyer’s order view).",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-20",
      "summary": "Extend the backend order lifecycle to support seller decisions by adding explicit order statuses for “accepted” and “declined”, and expose admin-only APIs to list all orders and to accept/decline an order.\n\nBackend changes must:\n- Update `OrderStatus` in `backend/main.mo` to include variants for accepted and declined.\n- Keep the existing `checkout(...)` behavior creating new orders with status `#pending`.\n- Add a query method that returns a list of all orders for admins only (seller/admin order inbox).\n- Add an admin-only update method that lets an admin change an order’s status from `pending` to either `accepted` or `declined`, with clear English error messages when the order does not exist, the caller is not an admin, or the transition is invalid.",
      "reqIds": [
        "REQ-29"
      ],
      "status": "pending"
    }
  ],
  "gameProjectType": "none",
  "projectName": "Build a Meesho-like social commerce marketplace MVP",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}